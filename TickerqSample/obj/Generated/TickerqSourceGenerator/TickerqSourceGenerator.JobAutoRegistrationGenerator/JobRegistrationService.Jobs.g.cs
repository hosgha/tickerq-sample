// <auto-generated> Job registrations
using System;
using System.Threading.Tasks;
using TickerQ.Utilities.Entities;
using TickerQ.Utilities.Interfaces.Managers;

namespace TickerqSample.BackgroundJobs.Base
{
    public partial class JobRegistrationService
    {
        partial void RegisterJobs(
            ITimeTickerManager<TimeTickerEntity> timeManager)
        {
            _ = RegisterJobsAsync(timeManager);
        }

        private async Task RegisterJobsAsync(
            ITimeTickerManager<TimeTickerEntity> timeManager)
        {
            try
            {
                // Time jobs
                await timeManager.AddAsync(new TimeTickerEntity { Function = "TestTimeBasedJob", ExecutionTime = DateTime.UtcNow.AddSeconds(10) });
            }
            catch (Exception ex)
            {
                Console.WriteLine($"[Jobs] FAILED: {ex}");
            }
        }
    }
}