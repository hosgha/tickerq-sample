// <auto-generated> Job registrations
using System;
using System.Threading.Tasks;
using TickerQ.Utilities.Entities;
using TickerQ.Utilities.Interfaces.Managers;

namespace TickerqSample.BackgroundJobs.Base
{
    public partial class JobRegistrationService
    {
        partial void RegisterJobs(
            ITimeTickerManager<TimeTickerEntity> timeManager,
            ICronTickerManager<CronTickerEntity> cronManager)
        {
            _ = RegisterJobsAsync(timeManager, cronManager);
        }

        private async Task RegisterJobsAsync(
            ITimeTickerManager<TimeTickerEntity> timeManager,
            ICronTickerManager<CronTickerEntity> cronManager)
        {
            try
            {
                // Time jobs
                await timeManager.AddAsync(new TimeTickerEntity { Function = "TestTimeBasedJob", ExecutionTime = DateTime.UtcNow.AddSeconds(10) });

                // Cron jobs
                

                Console.WriteLine("[Jobs] SUCCESS: Registered 1 time job(s) and 0 cron job(s)");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"[Jobs] FAILED: {ex}");
            }
        }
    }
}